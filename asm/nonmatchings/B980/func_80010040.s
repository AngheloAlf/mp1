	.set noat
	.set noreorder

glabel func_80010040
/* 10C40 80010040 27BDFFC8 */  addiu      $sp, $sp, -0x38
/* 10C44 80010044 AFBF0030 */  sw         $ra, 0x30($sp)
/* 10C48 80010048 00801821 */  addu       $v1, $a0, $zero
/* 10C4C 8001004C 3C02800D */  lui        $v0, %hi(D_800CEA90)
/* 10C50 80010050 8C42EA90 */  lw         $v0, %lo(D_800CEA90)($v0)
/* 10C54 80010054 00042400 */  sll        $a0, $a0, 0x10
/* 10C58 80010058 00042403 */  sra        $a0, $a0, 0x10
/* 10C5C 8001005C 84420002 */  lh         $v0, 2($v0)
/* 10C60 80010060 0082102A */  slt        $v0, $a0, $v0
/* 10C64 80010064 38420001 */  xori       $v0, $v0, 1
/* 10C68 80010068 000427C2 */  srl        $a0, $a0, 0x1f
/* 10C6C 8001006C 00441025 */  or         $v0, $v0, $a0
/* 10C70 80010070 14400024 */  bnez       $v0, .L80010104
/* 10C74 80010074 2402FFFF */   addiu     $v0, $zero, -1
/* 10C78 80010078 00032400 */  sll        $a0, $v1, 0x10
/* 10C7C 8001007C 00042403 */  sra        $a0, $a0, 0x10
/* 10C80 80010080 0C0037E6 */  jal        func_8000DF98
/* 10C84 80010084 27A50010 */   addiu     $a1, $sp, 0x10
/* 10C88 80010088 27A40010 */  addiu      $a0, $sp, 0x10
/* 10C8C 8001008C 0C003912 */  jal        func_8000E448
/* 10C90 80010090 24050001 */   addiu     $a1, $zero, 1
/* 10C94 80010094 00402821 */  addu       $a1, $v0, $zero
/* 10C98 80010098 00051400 */  sll        $v0, $a1, 0x10
/* 10C9C 8001009C 04400019 */  bltz       $v0, .L80010104
/* 10CA0 800100A0 2402FFFF */   addiu     $v0, $zero, -1
/* 10CA4 800100A4 93A30027 */  lbu        $v1, 0x27($sp)
/* 10CA8 800100A8 3062000F */  andi       $v0, $v1, 0xf
/* 10CAC 800100AC 10400013 */  beqz       $v0, .L800100FC
/* 10CB0 800100B0 306600F0 */   andi      $a2, $v1, 0xf0
/* 10CB4 800100B4 10C00011 */  beqz       $a2, .L800100FC
/* 10CB8 800100B8 00051C00 */   sll       $v1, $a1, 0x10
/* 10CBC 800100BC 00031C03 */  sra        $v1, $v1, 0x10
/* 10CC0 800100C0 3C04800D */  lui        $a0, %hi(D_800CEA94)
/* 10CC4 800100C4 8C84EA94 */  lw         $a0, %lo(D_800CEA94)($a0)
/* 10CC8 800100C8 00031040 */  sll        $v0, $v1, 1
/* 10CCC 800100CC 00431021 */  addu       $v0, $v0, $v1
/* 10CD0 800100D0 00021080 */  sll        $v0, $v0, 2
/* 10CD4 800100D4 00431023 */  subu       $v0, $v0, $v1
/* 10CD8 800100D8 00021080 */  sll        $v0, $v0, 2
/* 10CDC 800100DC 00441021 */  addu       $v0, $v0, $a0
/* 10CE0 800100E0 8043002B */  lb         $v1, 0x2b($v0)
/* 10CE4 800100E4 2402FFFF */  addiu      $v0, $zero, -1
/* 10CE8 800100E8 10620004 */  beq        $v1, $v0, .L800100FC
/* 10CEC 800100EC 00061103 */   sra       $v0, $a2, 4
/* 10CF0 800100F0 00430018 */  mult       $v0, $v1
/* 10CF4 800100F4 00001012 */  mflo       $v0
/* 10CF8 800100F8 00A22821 */  addu       $a1, $a1, $v0
.L800100FC:
/* 10CFC 800100FC 00051400 */  sll        $v0, $a1, 0x10
/* 10D00 80010100 00021403 */  sra        $v0, $v0, 0x10
.L80010104:
/* 10D04 80010104 8FBF0030 */  lw         $ra, 0x30($sp)
/* 10D08 80010108 03E00008 */  jr         $ra
/* 10D0C 8001010C 27BD0038 */   addiu     $sp, $sp, 0x38
