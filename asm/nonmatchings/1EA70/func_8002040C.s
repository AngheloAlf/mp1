	.set noat
	.set noreorder

glabel func_8002040C
/* 2100C 8002040C 27BDFFD0 */  addiu      $sp, $sp, -0x30
/* 21010 80020410 AFBF002C */  sw         $ra, 0x2c($sp)
/* 21014 80020414 AFB60028 */  sw         $s6, 0x28($sp)
/* 21018 80020418 AFB50024 */  sw         $s5, 0x24($sp)
/* 2101C 8002041C AFB40020 */  sw         $s4, 0x20($sp)
/* 21020 80020420 AFB3001C */  sw         $s3, 0x1c($sp)
/* 21024 80020424 AFB20018 */  sw         $s2, 0x18($sp)
/* 21028 80020428 AFB10014 */  sw         $s1, 0x14($sp)
/* 2102C 8002042C AFB00010 */  sw         $s0, 0x10($sp)
/* 21030 80020430 00A08821 */  addu       $s1, $a1, $zero
/* 21034 80020434 0220B021 */  addu       $s6, $s1, $zero
/* 21038 80020438 0004A400 */  sll        $s4, $a0, 0x10
/* 2103C 8002043C 0014A403 */  sra        $s4, $s4, 0x10
/* 21040 80020440 3C03800F */  lui        $v1, %hi(D_800F2B7C)
/* 21044 80020444 8C632B7C */  lw         $v1, %lo(D_800F2B7C)($v1)
/* 21048 80020448 00141040 */  sll        $v0, $s4, 1
/* 2104C 8002044C 00541021 */  addu       $v0, $v0, $s4
/* 21050 80020450 00021180 */  sll        $v0, $v0, 6
/* 21054 80020454 00431021 */  addu       $v0, $v0, $v1
/* 21058 80020458 8C55006C */  lw         $s5, 0x6c($v0)
/* 2105C 8002045C 84420008 */  lh         $v0, 8($v0)
/* 21060 80020460 00028040 */  sll        $s0, $v0, 1
/* 21064 80020464 02028021 */  addu       $s0, $s0, $v0
/* 21068 80020468 001080C0 */  sll        $s0, $s0, 3
/* 2106C 8002046C 3C02800F */  lui        $v0, %hi(D_800ED554)
/* 21070 80020470 8C42D554 */  lw         $v0, %lo(D_800ED554)($v0)
/* 21074 80020474 02028021 */  addu       $s0, $s0, $v0
/* 21078 80020478 02A02021 */  addu       $a0, $s5, $zero
/* 2107C 8002047C 0C00CDC6 */  jal        func_80033718
/* 21080 80020480 00C02821 */   addu      $a1, $a2, $zero
/* 21084 80020484 00409821 */  addu       $s3, $v0, $zero
/* 21088 80020488 0C00EDA9 */  jal        func_8003B6A4
/* 2108C 8002048C 2404000C */   addiu     $a0, $zero, 0xc
/* 21090 80020490 00409021 */  addu       $s2, $v0, $zero
/* 21094 80020494 86040002 */  lh         $a0, 2($s0)
/* 21098 80020498 00118C00 */  sll        $s1, $s1, 0x10
/* 2109C 8002049C 00118C03 */  sra        $s1, $s1, 0x10
/* 210A0 800204A0 00912021 */  addu       $a0, $a0, $s1
/* 210A4 800204A4 0091001A */  div        $zero, $a0, $s1
/* 210A8 800204A8 16200002 */  bnez       $s1, .L800204B4
/* 210AC 800204AC 00000000 */   nop
/* 210B0 800204B0 0007000D */  break      7
.L800204B4:
/* 210B4 800204B4 2401FFFF */   addiu     $at, $zero, -1
/* 210B8 800204B8 16210004 */  bne        $s1, $at, .L800204CC
/* 210BC 800204BC 3C018000 */   lui       $at, 0x8000
/* 210C0 800204C0 14810002 */  bne        $a0, $at, .L800204CC
/* 210C4 800204C4 00000000 */   nop
/* 210C8 800204C8 0006000D */  break      6
.L800204CC:
/* 210CC 800204CC 00002012 */   mflo      $a0
/* 210D0 800204D0 00000000 */  nop
/* 210D4 800204D4 00000000 */  nop
/* 210D8 800204D8 0C00EDA9 */  jal        func_8003B6A4
/* 210DC 800204DC 00042180 */   sll       $a0, $a0, 6
/* 210E0 800204E0 AE420008 */  sw         $v0, 8($s2)
/* 210E4 800204E4 86A40070 */  lh         $a0, 0x70($s5)
/* 210E8 800204E8 0C00EDA9 */  jal        func_8003B6A4
/* 210EC 800204EC 00042040 */   sll       $a0, $a0, 1
/* 210F0 800204F0 AE420004 */  sw         $v0, 4($s2)
/* 210F4 800204F4 96020002 */  lhu        $v0, 2($s0)
/* 210F8 800204F8 A6420000 */  sh         $v0, ($s2)
/* 210FC 800204FC A6560002 */  sh         $s6, 2($s2)
/* 21100 80020500 00139C00 */  sll        $s3, $s3, 0x10
/* 21104 80020504 02802021 */  addu       $a0, $s4, $zero
/* 21108 80020508 02202821 */  addu       $a1, $s1, $zero
/* 2110C 8002050C 02403021 */  addu       $a2, $s2, $zero
/* 21110 80020510 0C008151 */  jal        func_80020544
/* 21114 80020514 00133C03 */   sra       $a3, $s3, 0x10
/* 21118 80020518 02401021 */  addu       $v0, $s2, $zero
/* 2111C 8002051C 8FBF002C */  lw         $ra, 0x2c($sp)
/* 21120 80020520 8FB60028 */  lw         $s6, 0x28($sp)
/* 21124 80020524 8FB50024 */  lw         $s5, 0x24($sp)
/* 21128 80020528 8FB40020 */  lw         $s4, 0x20($sp)
/* 2112C 8002052C 8FB3001C */  lw         $s3, 0x1c($sp)
/* 21130 80020530 8FB20018 */  lw         $s2, 0x18($sp)
/* 21134 80020534 8FB10014 */  lw         $s1, 0x14($sp)
/* 21138 80020538 8FB00010 */  lw         $s0, 0x10($sp)
/* 2113C 8002053C 03E00008 */  jr         $ra
/* 21140 80020540 27BD0030 */   addiu     $sp, $sp, 0x30
