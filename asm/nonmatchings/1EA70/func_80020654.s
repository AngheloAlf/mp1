	.set noat
	.set noreorder

glabel func_80020654
/* 21254 80020654 27BDFF80 */  addiu      $sp, $sp, -0x80
/* 21258 80020658 AFBF0078 */  sw         $ra, 0x78($sp)
/* 2125C 8002065C AFB50074 */  sw         $s5, 0x74($sp)
/* 21260 80020660 AFB40070 */  sw         $s4, 0x70($sp)
/* 21264 80020664 AFB3006C */  sw         $s3, 0x6c($sp)
/* 21268 80020668 AFB20068 */  sw         $s2, 0x68($sp)
/* 2126C 8002066C AFB10064 */  sw         $s1, 0x64($sp)
/* 21270 80020670 AFB00060 */  sw         $s0, 0x60($sp)
/* 21274 80020674 0080A021 */  addu       $s4, $a0, $zero
/* 21278 80020678 00A08821 */  addu       $s1, $a1, $zero
/* 2127C 8002067C 00C09021 */  addu       $s2, $a2, $zero
/* 21280 80020680 00052C00 */  sll        $a1, $a1, 0x10
/* 21284 80020684 00052C03 */  sra        $a1, $a1, 0x10
/* 21288 80020688 00051080 */  sll        $v0, $a1, 2
/* 2128C 8002068C 00451021 */  addu       $v0, $v0, $a1
/* 21290 80020690 000210C0 */  sll        $v0, $v0, 3
/* 21294 80020694 00451021 */  addu       $v0, $v0, $a1
/* 21298 80020698 00021080 */  sll        $v0, $v0, 2
/* 2129C 8002069C 8E8300A0 */  lw         $v1, 0xa0($s4)
/* 212A0 800206A0 00438021 */  addu       $s0, $v0, $v1
/* 212A4 800206A4 00009821 */  addu       $s3, $zero, $zero
/* 212A8 800206A8 0C028A94 */  jal        func_800A2A50
/* 212AC 800206AC 27A40010 */   addiu     $a0, $sp, 0x10
/* 212B0 800206B0 C6000038 */  lwc1       $f0, 0x38($s0)
/* 212B4 800206B4 44801000 */  mtc1       $zero, $f2
/* 212B8 800206B8 00000000 */  nop
/* 212BC 800206BC 46020032 */  c.eq.s     $f0, $f2
/* 212C0 800206C0 00000000 */  nop
/* 212C4 800206C4 4500000B */  bc1f       .L800206F4
/* 212C8 800206C8 00000000 */   nop
/* 212CC 800206CC C600003C */  lwc1       $f0, 0x3c($s0)
/* 212D0 800206D0 46020032 */  c.eq.s     $f0, $f2
/* 212D4 800206D4 00000000 */  nop
/* 212D8 800206D8 45000006 */  bc1f       .L800206F4
/* 212DC 800206DC 00000000 */   nop
/* 212E0 800206E0 C6000040 */  lwc1       $f0, 0x40($s0)
/* 212E4 800206E4 46020032 */  c.eq.s     $f0, $f2
/* 212E8 800206E8 00000000 */  nop
/* 212EC 800206EC 45010007 */  bc1t       .L8002070C
/* 212F0 800206F0 00000000 */   nop
.L800206F4:
/* 212F4 800206F4 8E050038 */  lw         $a1, 0x38($s0)
/* 212F8 800206F8 8E06003C */  lw         $a2, 0x3c($s0)
/* 212FC 800206FC 8E070040 */  lw         $a3, 0x40($s0)
/* 21300 80020700 0C0088E4 */  jal        func_80022390
/* 21304 80020704 27A40010 */   addiu     $a0, $sp, 0x10
/* 21308 80020708 24130001 */  addiu      $s3, $zero, 1
.L8002070C:
/* 2130C 8002070C C6000044 */  lwc1       $f0, 0x44($s0)
/* 21310 80020710 44801000 */  mtc1       $zero, $f2
/* 21314 80020714 00000000 */  nop
/* 21318 80020718 46020032 */  c.eq.s     $f0, $f2
/* 2131C 8002071C 00000000 */  nop
/* 21320 80020720 4500000B */  bc1f       .L80020750
/* 21324 80020724 00000000 */   nop
/* 21328 80020728 C6000048 */  lwc1       $f0, 0x48($s0)
/* 2132C 8002072C 46020032 */  c.eq.s     $f0, $f2
/* 21330 80020730 00000000 */  nop
/* 21334 80020734 45000006 */  bc1f       .L80020750
/* 21338 80020738 00000000 */   nop
/* 2133C 8002073C C600004C */  lwc1       $f0, 0x4c($s0)
/* 21340 80020740 46020032 */  c.eq.s     $f0, $f2
/* 21344 80020744 00000000 */  nop
/* 21348 80020748 45010007 */  bc1t       .L80020768
/* 2134C 8002074C 00000000 */   nop
.L80020750:
/* 21350 80020750 8E050044 */  lw         $a1, 0x44($s0)
/* 21354 80020754 8E060048 */  lw         $a2, 0x48($s0)
/* 21358 80020758 8E07004C */  lw         $a3, 0x4c($s0)
/* 2135C 8002075C 0C008929 */  jal        func_800224A4
/* 21360 80020760 27A40010 */   addiu     $a0, $sp, 0x10
/* 21364 80020764 24130001 */  addiu      $s3, $zero, 1
.L80020768:
/* 21368 80020768 C6000050 */  lwc1       $f0, 0x50($s0)
/* 2136C 8002076C 3C013F80 */  lui        $at, 0x3f80
/* 21370 80020770 44811000 */  mtc1       $at, $f2
/* 21374 80020774 00000000 */  nop
/* 21378 80020778 46020032 */  c.eq.s     $f0, $f2
/* 2137C 8002077C 00000000 */  nop
/* 21380 80020780 4500000C */  bc1f       .L800207B4
/* 21384 80020784 00000000 */   nop
/* 21388 80020788 C6000054 */  lwc1       $f0, 0x54($s0)
/* 2138C 8002078C 46020032 */  c.eq.s     $f0, $f2
/* 21390 80020790 00000000 */  nop
/* 21394 80020794 45000007 */  bc1f       .L800207B4
/* 21398 80020798 00000000 */   nop
/* 2139C 8002079C C6000058 */  lwc1       $f0, 0x58($s0)
/* 213A0 800207A0 46020032 */  c.eq.s     $f0, $f2
/* 213A4 800207A4 00000000 */  nop
/* 213A8 800207A8 00000000 */  nop
/* 213AC 800207AC 45010008 */  bc1t       .L800207D0
/* 213B0 800207B0 02601021 */   addu      $v0, $s3, $zero
.L800207B4:
/* 213B4 800207B4 8E050050 */  lw         $a1, 0x50($s0)
/* 213B8 800207B8 8E060054 */  lw         $a2, 0x54($s0)
/* 213BC 800207BC 8E070058 */  lw         $a3, 0x58($s0)
/* 213C0 800207C0 0C008914 */  jal        func_80022450
/* 213C4 800207C4 27A40010 */   addiu     $a0, $sp, 0x10
/* 213C8 800207C8 24130001 */  addiu      $s3, $zero, 1
/* 213CC 800207CC 02601021 */  addu       $v0, $s3, $zero
.L800207D0:
/* 213D0 800207D0 1040000E */  beqz       $v0, .L8002080C
/* 213D4 800207D4 27A40010 */   addiu     $a0, $sp, 0x10
/* 213D8 800207D8 3C06800F */  lui        $a2, %hi(D_800F33D4)
/* 213DC 800207DC 94C633D4 */  lhu        $a2, %lo(D_800F33D4)($a2)
/* 213E0 800207E0 24C60001 */  addiu      $a2, $a2, 1
/* 213E4 800207E4 3C01800F */  lui        $at, %hi(D_800F33D4)
/* 213E8 800207E8 A42633D4 */  sh         $a2, %lo(D_800F33D4)($at)
/* 213EC 800207EC 00063400 */  sll        $a2, $a2, 0x10
/* 213F0 800207F0 00063283 */  sra        $a2, $a2, 0xa
/* 213F4 800207F4 3C05800F */  lui        $a1, %hi(D_800F5480)
/* 213F8 800207F8 24A55480 */  addiu      $a1, $a1, %lo(D_800F5480)
/* 213FC 800207FC 24A20040 */  addiu      $v0, $a1, 0x40
/* 21400 80020800 00C52821 */  addu       $a1, $a2, $a1
/* 21404 80020804 0C0089F1 */  jal        func_800227C4
/* 21408 80020808 00C23021 */   addu      $a2, $a2, $v0
.L8002080C:
/* 2140C 8002080C 3C02800F */  lui        $v0, %hi(D_800ED5E6)
/* 21410 80020810 8442D5E6 */  lh         $v0, %lo(D_800ED5E6)($v0)
/* 21414 80020814 00402021 */  addu       $a0, $v0, $zero
/* 21418 80020818 86830070 */  lh         $v1, 0x70($s4)
/* 2141C 8002081C 0043102A */  slt        $v0, $v0, $v1
/* 21420 80020820 10400006 */  beqz       $v0, .L8002083C
/* 21424 80020824 00111400 */   sll       $v0, $s1, 0x10
/* 21428 80020828 3C03800F */  lui        $v1, %hi(D_800F2C20)
/* 2142C 8002082C 8C632C20 */  lw         $v1, %lo(D_800F2C20)($v1)
/* 21430 80020830 000213C3 */  sra        $v0, $v0, 0xf
/* 21434 80020834 00431021 */  addu       $v0, $v0, $v1
/* 21438 80020838 A4440000 */  sh         $a0, ($v0)
.L8002083C:
/* 2143C 8002083C 00121400 */  sll        $v0, $s2, 0x10
/* 21440 80020840 00021403 */  sra        $v0, $v0, 0x10
/* 21444 80020844 00022027 */  nor        $a0, $zero, $v0
/* 21448 80020848 2C840001 */  sltiu      $a0, $a0, 1
/* 2144C 8002084C 00111C00 */  sll        $v1, $s1, 0x10
/* 21450 80020850 00031C03 */  sra        $v1, $v1, 0x10
/* 21454 80020854 00431026 */  xor        $v0, $v0, $v1
/* 21458 80020858 2C420001 */  sltiu      $v0, $v0, 1
/* 2145C 8002085C 00822025 */  or         $a0, $a0, $v0
/* 21460 80020860 10800012 */  beqz       $a0, .L800208AC
/* 21464 80020864 00000000 */   nop
/* 21468 80020868 3C04800F */  lui        $a0, %hi(D_800ED5E6)
/* 2146C 8002086C 9484D5E6 */  lhu        $a0, %lo(D_800ED5E6)($a0)
/* 21470 80020870 24820001 */  addiu      $v0, $a0, 1
/* 21474 80020874 3C01800F */  lui        $at, %hi(D_800ED5E6)
/* 21478 80020878 A422D5E6 */  sh         $v0, %lo(D_800ED5E6)($at)
/* 2147C 8002087C 00042400 */  sll        $a0, $a0, 0x10
/* 21480 80020880 00042283 */  sra        $a0, $a0, 0xa
/* 21484 80020884 3C03800F */  lui        $v1, %hi(D_800F33A0)
/* 21488 80020888 8C6333A0 */  lw         $v1, %lo(D_800F33A0)($v1)
/* 2148C 8002088C 3C05800F */  lui        $a1, %hi(D_800F33D4)
/* 21490 80020890 84A533D4 */  lh         $a1, %lo(D_800F33D4)($a1)
/* 21494 80020894 00052980 */  sll        $a1, $a1, 6
/* 21498 80020898 3C02800F */  lui        $v0, %hi(D_800F54C0)
/* 2149C 8002089C 244254C0 */  addiu      $v0, $v0, %lo(D_800F54C0)
/* 214A0 800208A0 00832021 */  addu       $a0, $a0, $v1
/* 214A4 800208A4 0C00B0DF */  jal        func_8002C37C
/* 214A8 800208A8 00A22821 */   addu      $a1, $a1, $v0
.L800208AC:
/* 214AC 800208AC 86020000 */  lh         $v0, ($s0)
/* 214B0 800208B0 18400018 */  blez       $v0, .L80020914
/* 214B4 800208B4 00008821 */   addu      $s1, $zero, $zero
/* 214B8 800208B8 2415FFFF */  addiu      $s5, $zero, -1
/* 214BC 800208BC 00129400 */  sll        $s2, $s2, 0x10
/* 214C0 800208C0 00111400 */  sll        $v0, $s1, 0x10
.L800208C4:
/* 214C4 800208C4 8E030004 */  lw         $v1, 4($s0)
/* 214C8 800208C8 000213C3 */  sra        $v0, $v0, 0xf
/* 214CC 800208CC 00431021 */  addu       $v0, $v0, $v1
/* 214D0 800208D0 84430000 */  lh         $v1, ($v0)
/* 214D4 800208D4 30628000 */  andi       $v0, $v1, 0x8000
/* 214D8 800208D8 10400006 */  beqz       $v0, .L800208F4
/* 214DC 800208DC 00602821 */   addu      $a1, $v1, $zero
/* 214E0 800208E0 10750004 */  beq        $v1, $s5, .L800208F4
/* 214E4 800208E4 02802021 */   addu      $a0, $s4, $zero
/* 214E8 800208E8 30A57FFF */  andi       $a1, $a1, 0x7fff
/* 214EC 800208EC 0C008195 */  jal        func_80020654
/* 214F0 800208F0 00123403 */   sra       $a2, $s2, 0x10
.L800208F4:
/* 214F4 800208F4 26220001 */  addiu      $v0, $s1, 1
/* 214F8 800208F8 00408821 */  addu       $s1, $v0, $zero
/* 214FC 800208FC 00021400 */  sll        $v0, $v0, 0x10
/* 21500 80020900 00021403 */  sra        $v0, $v0, 0x10
/* 21504 80020904 86030000 */  lh         $v1, ($s0)
/* 21508 80020908 0043102A */  slt        $v0, $v0, $v1
/* 2150C 8002090C 1440FFED */  bnez       $v0, .L800208C4
/* 21510 80020910 00111400 */   sll       $v0, $s1, 0x10
.L80020914:
/* 21514 80020914 02601021 */  addu       $v0, $s3, $zero
/* 21518 80020918 10400006 */  beqz       $v0, .L80020934
/* 2151C 8002091C 00000000 */   nop
/* 21520 80020920 3C02800F */  lui        $v0, %hi(D_800F33D4)
/* 21524 80020924 944233D4 */  lhu        $v0, %lo(D_800F33D4)($v0)
/* 21528 80020928 2442FFFF */  addiu      $v0, $v0, -1
/* 2152C 8002092C 3C01800F */  lui        $at, %hi(D_800F33D4)
/* 21530 80020930 A42233D4 */  sh         $v0, %lo(D_800F33D4)($at)
.L80020934:
/* 21534 80020934 8FBF0078 */  lw         $ra, 0x78($sp)
/* 21538 80020938 8FB50074 */  lw         $s5, 0x74($sp)
/* 2153C 8002093C 8FB40070 */  lw         $s4, 0x70($sp)
/* 21540 80020940 8FB3006C */  lw         $s3, 0x6c($sp)
/* 21544 80020944 8FB20068 */  lw         $s2, 0x68($sp)
/* 21548 80020948 8FB10064 */  lw         $s1, 0x64($sp)
/* 2154C 8002094C 8FB00060 */  lw         $s0, 0x60($sp)
/* 21550 80020950 03E00008 */  jr         $ra
/* 21554 80020954 27BD0080 */   addiu     $sp, $sp, 0x80
